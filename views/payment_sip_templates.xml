<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="token_form" inherit_id="payment.token_form">
        <xpath expr="//t[@t-set='hide_secured_by']" position="attributes">
            <attribute name="t-value" separator=" " add="or provider_sudo.code == 'sip'"/>
        </xpath>
    </template>

    <template id="payment_method_form" inherit_id="payment.method_form">
        <xpath expr="//t[@t-set='hide_secured_by']" position="attributes">
            <attribute name="t-value" separator=" " add="or provider_sudo.code == 'sip'"/>
        </xpath>
    </template>

    <template id="redirect_form">
        <form t-att-action="api_url" method="post">
            <input type="hidden" name="sip_qr" t-att-value="sip_qr"/>
        </form>
    </template>

    <template id="sip_payment_status" inherit_id="payment.payment_status">

        <xpath expr="//div[hasclass('text-bg-light', 'row', 'row-cols-1', 'row-cols-md-2', 'mx-0', 'mb-3', 'py-2', 'rounded')]" position="inside">
            <div class="col-12 col-md-8 d-flex justify-content-center">
                <!-- Display the binary image field here -->
                <img
                        t-att-src="image_data_uri(tx.sip_qr_id.qr_image)"
                        class="mx-auto d-block"
                        style="max-width: 400px;"
                />
            </div>
        </xpath>

    </template>

</odoo>